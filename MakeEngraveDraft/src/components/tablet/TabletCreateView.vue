<template>
  <div class="">
    <div class="title">
      ìœ„íŒ¨ ìƒì„±í•˜ê¸°
    </div>
    <div class="title2">
      â— ìœ„íŒ¨ ì¢…ë¥˜
    </div>
    <!-- ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆ -->
    <div class="text-align-center">
      <span class="link-item-color">
        <!-- ì¼ë°˜ -->
        <div v-if="type === 'ì¼ë°˜'">
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ì¼ë°˜' }"
              @click="selectedType2 = 'ì¼ë°˜', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ì´ë¦„ì‹œì•ˆ/ì¼ë°˜.png" width="80" height="240" alt="ì¼ë°˜">
            <span class="selectText">[ì¼ë°˜]</span>
          </button>
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ì¼ë°˜(ë³¸ê´€)' }"
              @click="selectedType2 = 'ì¼ë°˜(ë³¸ê´€)', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ë³¸ê´€ì‹œì•ˆ/ì¼ë°˜(ë³¸ê´€).png" width="80" height="240" alt="ì¼ë°˜(ë³¸ê´€)">
            <span class="selectText">[ì¼ë°˜(ë³¸ê´€)]</span>
          </button>
        </div>
        <div v-if="type === 'ê¸°ë…êµ'">
          <!-- ê¸°ë…êµ -->
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ê¸°ë…êµ' }"
              @click="selectedType2 = 'ê¸°ë…êµ', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ì´ë¦„ì‹œì•ˆ/ê¸°ë…êµ.png" width="80" height="240" alt="ê¸°ë…êµ">
            <span class="selectText">[ê¸°ë…êµ]</span>
          </button>
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ê¸°ë…êµ(ë³¸ê´€)' }"
              @click="selectedType2 = 'ê¸°ë…êµ(ë³¸ê´€)', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ë³¸ê´€ì‹œì•ˆ/ê¸°ë…êµ(ë³¸ê´€).png" width="80" height="240" alt="ê¸°ë…êµ(ë³¸ê´€)">
            <span class="selectText">[ê¸°ë…êµ(ë³¸ê´€)]</span>
          </button>
        </div>
        <div v-if="type === 'ë¶ˆêµ'">
          <!-- ë¶ˆêµ -->
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ë¶ˆêµ' }"
              @click="selectedType2 = 'ë¶ˆêµ', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ì´ë¦„ì‹œì•ˆ/ë¶ˆêµ.png" width="80" height="240" alt="ë¶ˆêµ">
            <span class="selectText">[ë¶ˆêµ]</span>
          </button>
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ë¶ˆêµ(ë³¸ê´€)' }"
              @click="selectedType2 = 'ë¶ˆêµ(ë³¸ê´€)', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ë³¸ê´€ì‹œì•ˆ/ë¶ˆêµ(ë³¸ê´€).png" width="80" height="240" alt="ë¶ˆêµ(ë³¸ê´€)">
            <span class="selectText">[ë¶ˆêµ(ë³¸ê´€)]</span>
          </button>
        </div>
        <!-- ì²œì£¼êµ -->
        <div v-if="type === 'ì²œì£¼êµ'">
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ì²œì£¼êµ' }"
              @click="selectedType2 = 'ì²œì£¼êµ', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ì´ë¦„ì‹œì•ˆ/ì²œì£¼êµ.png" width="80" height="240" alt="ì²œì£¼êµ">
            <span class="selectText">[ì²œì£¼êµ]</span>
          </button>
          <button
              class="link-item"
              :class="{ selected: selectedType2 === 'ì²œì£¼êµ(ë³¸ê´€)' }"
              @click="selectedType2 = 'ì²œì£¼êµ(ë³¸ê´€)', showRouterView = false">
            <img src="../../assets/images/memorialTablet/example/ë³¸ê´€ì‹œì•ˆ/ì²œì£¼êµ(ë³¸ê´€).png" width="80" height="240" alt="ì²œì£¼êµ(ë³¸ê´€)">
            <span class="selectText">[ì²œì£¼êµ(ë³¸ê´€)]</span>
          </button>
        </div>
      </span>
    </div>
    <!-- ì •ë³´ì…ë ¥ -->
    <div class="text-align-center">
      <span class="info-text-align-center">
        <div class="title3">
          ì •ë³´ ì…ë ¥
        </div>
        <span class="input-info1">
         <div v-if="selectedType2 === 'ì¼ë°˜(ë³¸ê´€)' || selectedType2 === 'ê¸°ë…êµ(ë³¸ê´€)' || selectedType2 === 'ë¶ˆêµ(ë³¸ê´€)' || selectedType2 === 'ì²œì£¼êµ(ë³¸ê´€)'">
            ë³¸ê´€ ë‚´ìš©&nbsp;
          </div>
          <span v-if="type === 'ê¸°ë…êµ'">
            ì§ë¶„&nbsp;
          </span>
          <!-- <span v-if="selectedType === 'ë²•ëª…'">
            ë²•ëª… ì…ë ¥<br/>
          </span> -->
          <span v-if="type === 'ì²œì£¼êµ'">
            ì„¸ë¡€ëª…&nbsp;
          </span>
        </span>
        <span class="input-info2">
          <div v-if="selectedType2 === 'ì¼ë°˜(ë³¸ê´€)' || selectedType2 === 'ê¸°ë…êµ(ë³¸ê´€)' || selectedType2 === 'ë¶ˆêµ(ë³¸ê´€)' || selectedType2 === 'ì²œì£¼êµ(ë³¸ê´€)'">
            <input v-model="name0" type="text" :placeholder="defaultName0Placeholder"/>
          </div>
          <span v-if="type === 'ê¸°ë…êµ'">
            <input v-model="name2" type="text" :placeholder="name2"/>
          </span>
          <!-- <span v-if="selectedType === 'ë²•ëª…'">
            <input v-model="name2" type="text" :placeholder="name2"/>
          </span> -->
          <span v-if="type === 'ì²œì£¼êµ'">
            <input v-model="name2" type="text" :placeholder="name2"/>
          </span>
        </span>
      </span>
    </div>

    <!-- ë³¸ê´€ì— ë”°ë¥¸ ë°ì´í„° ì „ì†¡ê°’ ë³€ê²½ -->
    <div v-if="selectedType2 === 'ì¼ë°˜(ë³¸ê´€)' || selectedType2 === 'ê¸°ë…êµ(ë³¸ê´€)' || selectedType2 === 'ë¶ˆêµ(ë³¸ê´€)' || selectedType2 === 'ì²œì£¼êµ(ë³¸ê´€)'">
      <router-link :to="'/engrave/result?' + 'type=' + type 
                  + '&name0=' + encodedName0 + '&name1=' + name1 + '&name2='+ name2 
                  + '&date1=' + date1 + '&date1Type=' + date1Type 
                  + '&date2=' + date2 + '&date2Type=' + date2Type
                  + '&selectedType=' + selectedType + '&selectedType2=' + selectedType2" class="title4">ğŸ‘‰ ì˜ˆì‹œ ë³´ê¸° (ê°ì¸/ìœ„íŒ¨)</router-link>
    </div>
    <div v-else>
      <router-link :to="'/engrave/result?' + 'type=' + type 
                  + '&name0=' + 'ì—†ìŒ' + '&name1=' + name1 + '&name2='+ name2 
                  + '&date1=' + date1 + '&date1Type=' + date1Type 
                  + '&date2=' + date2 + '&date2Type=' + date2Type
                  + '&selectedType=' + selectedType + '&selectedType2=' + selectedType2" class="title4">ğŸ‘‰ ì˜ˆì‹œ ë³´ê¸° (ê°ì¸/ìœ„íŒ¨)</router-link>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      type: this.$route.query.type,
      name0: '',
      name1: this.$route.query.name1,
      name2: this.$route.query.name2,
      date1: this.$route.query.date1,
      date1Type: this.$route.query.date1Type,
      date2: this.$route.query.date2,
      date2Type: this.$route.query.date2Type,
      selectedType: this.$route.query.selectedType, // ì´ˆê¸° ì„ íƒ íƒ€ì… ì„¤ì •
      selectedType2: this.$route.query.type, // ì´ˆê¸° ì„ íƒ íƒ€ì… ì„¤ì •
    };
  },
  computed: {
    encodedName0() {
      const trimmedName0 = this.name0.trim();

      if(this.selectedType2 === "ì¼ë°˜(ë³¸ê´€)")
        return trimmedName0 === '' ? 'í¬ë¹ˆí™ì”¨ê¸¸ë™ì‹ ìœ„' : encodeURIComponent(trimmedName0);
      else if(this.selectedType2 === "ê¸°ë…êµ(ë³¸ê´€)")
        return trimmedName0 === '' ? 'í¬ë¹ˆí™ì”¨ê¸¸ë™' : encodeURIComponent(trimmedName0);
      else if(this.selectedType2 === "ë¶ˆêµ(ë³¸ê´€)")
        return trimmedName0 === '' ? 'í¬ë¹ˆí™ì”¨ê¸¸ë™ì˜ê°€' : encodeURIComponent(trimmedName0);
      else if(this.selectedType2 === "ì²œì£¼êµ(ë³¸ê´€)")
        return trimmedName0 === '' ? 'í¬ë¹ˆí™ì”¨ê¸¸ë™' : encodeURIComponent(trimmedName0);

      return trimmedName0 === '' ? 'ë³¸ê´€' : encodeURIComponent(trimmedName0);
    },
    defaultName0Placeholder() {
      // ì—¬ê¸°ì„œ ê¸°ë³¸ placeholder ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤
      if(this.selectedType2 === "ì¼ë°˜(ë³¸ê´€)")
        return 'í¬ë¹ˆí™ì”¨ê¸¸ë™ì‹ ìœ„';
      else if(this.selectedType2 === "ê¸°ë…êµ(ë³¸ê´€)")
        return 'í¬ë¹ˆí™ì”¨ê¸¸ë™';
      else if(this.selectedType2 === "ë¶ˆêµ(ë³¸ê´€)")
        return 'í¬ë¹ˆí™ì”¨ê¸¸ë™ì˜ê°€';
      else if(this.selectedType2 === "ì²œì£¼êµ(ë³¸ê´€)")
        return 'í¬ë¹ˆí™ì”¨ê¸¸ë™';
      return 'ë³¸ê´€';
    },
  },
  // ë§¤ê°œë³€ìˆ˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€
  watch: {
    '$route.query.type': function(newType) {
      this.type = newType;
    },
    '$route.query.name0': function(newName0) {
      this.name0 = newName0;
    },
    '$route.query.name1': function(newName1) {
      this.name1 = newName1;
    },
    '$route.query.name2': function(newName2) {
      this.name2 = newName2;
    },
    '$route.query.date1': function(newDate1) {
      this.date1 = newDate1;
    },
    '$route.query.date1Type': function(newDate1Type) {
      this.date1Type = newDate1Type;
    },
    '$route.query.date2': function(newDate2) {
      this.date2 = newDate2;
    },
     '$route.query.date2Type': function(newDate2Type) {
      this.date2Type = newDate2Type;
    },
    '$route.query.selectedType': function(newSelectedType) {
      this.selectedType = newSelectedType;
    },
  },
};
</script>